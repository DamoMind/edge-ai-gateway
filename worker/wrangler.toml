name = "edge-ai-gateway"
main = "worker.ts"
compatibility_date = "2024-01-01"

# 启用 workers.dev 域名
workers_dev = true

# 自定义域名（需要域名在 Cloudflare DNS 管理）
# routes = [
#   { pattern = "edge-ai-gateway.duizhan.app", custom_domain = true }
# ]

# ============================================
# 环境变量配置
# ============================================
# 非敏感变量在此配置，敏感变量用 wrangler secret 设置
#
# 设置敏感变量：
#   wrangler secret put AZURE_API_KEY
#   wrangler secret put OPENAI_API_KEY
#   wrangler secret put CF_API_TOKEN
#   wrangler secret put CLIENT_API_KEY
# ============================================

[vars]
# 选择 AI Provider: "azure" | "openai" | "cloudflare"
AI_PROVIDER = "azure"

# Azure OpenAI 配置
AZURE_ENDPOINT = "https://herea-m1tvkrzc-eastus2.openai.azure.com"
AZURE_DEPLOYMENT = "gpt-4o"
AZURE_API_VERSION = "2025-01-01-preview"

# OpenAI 配置（如果使用 OpenAI）
# OPENAI_BASE_URL = "https://api.openai.com/v1"

# Cloudflare AI 配置（如果使用 Cloudflare AI）
# CF_ACCOUNT_ID = "your-account-id"
# CF_MODEL = "@cf/meta/llama-3.1-8b-instruct"

# 可选：限制允许的域名（逗号分隔）
# ALLOWED_ORIGINS = "https://example.com,chrome-extension://xxx"

# ============================================
# 生产环境配置示例
# ============================================
# [env.production]
# [env.production.vars]
# AI_PROVIDER = "azure"
# AZURE_ENDPOINT = "https://prod-resource.openai.azure.com"
# AZURE_DEPLOYMENT = "gpt-4o"
